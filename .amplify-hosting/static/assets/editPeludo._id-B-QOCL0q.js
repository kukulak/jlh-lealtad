import{r as f,j as e}from"./jsx-runtime-D2HyDbKh.js";import{I as h,C as b}from"./ImageUploader-BnT2WFw1.js";import{a as y}from"./index-CD45sefw.js";import{u as j}from"./components-Cuo2WHyh.js";import{F as N}from"./index-zFQnOIg2.js";const w=()=>{const o=y(),a=j(),[r,i]=f.useState({}),m=o.state!=="idle",t=a&&{nombre:a.nombre,raza:a.raza,nacimiento:a.nacimiento,instagram:a.instagram,foto:a.foto};async function c(d){const u=await new Promise((x,g)=>{new b(d,{quality:.6,maxWidth:800,success(s){x(s)},error(s){g(s)}})});let n=new FormData;n.append("dream-pic",u);const p=await fetch("/images",{method:"POST",body:n});console.log(typeof document>"u"?"running in a server environment":"running in a browser environment"),console.log("HANDELING",n.getAll("dream-pic"));const{imageUrl:l}=await p.json();console.log("IMAGEURL in HANDLER",l),i({...r,peludoPicture:l})}return e.jsxs("div",{className:" max-w-[700px]  w-full items-center flex flex-col gap-0",children:[e.jsx(h,{onChange:c,imageUrl:r.peludoPicture}),e.jsxs(N,{method:"patch",className:" mt-0   w-10/12 flex flex-col gap-3 text-gray-900",children:[r.peludoPicture?e.jsx("input",{type:"hidden",name:"imageUrl",id:"imageUrl",value:r.peludoPicture}):e.jsx("input",{type:"hidden",name:"imageUrl",id:"imageUrl",value:t.foto}),e.jsxs("div",{className:"rounded-xl w-12/12 flex flex-col gap-3 text-gray-900 bg-gray-800 px-12 py-10",children:[e.jsx("label",{className:" text-gray-100",htmlFor:"nombre",children:"Nombre del peludo"}),e.jsx("input",{className:"h-10 p-4",type:"text",name:"nombre",id:"nombre",required:!0,defaultValue:t.nombre}),e.jsx("label",{className:" text-gray-100",htmlFor:"raza",children:"Raza"}),e.jsx("input",{required:!0,className:"h-10 p-4",type:"text",name:"raza",id:"raza",defaultValue:t.raza}),e.jsx("label",{className:" text-gray-100",htmlFor:"nacimiento",children:"Fecha de nacimiento"}),e.jsx("input",{className:"h-10 p-4",type:"date",name:"nacimiento",id:"nacimiento",required:!0,defaultValue:t.nacimiento}),e.jsx("label",{className:" text-gray-100",htmlFor:"instagram",children:"Instagram"}),e.jsx("input",{required:!0,className:"h-10 p-4",type:"text",name:"instagram",id:"instagram",defaultValue:t.instagram})]}),e.jsxs("div",{className:"flex justify-center gap-5 flex-wrap align-baseline mb-20",children:[e.jsx("button",{className:"  self-center border-2 border-gray-600 rounded-lg text-lg text-gray-100 text-center py-3  px-5 mt-3 mb-10 ",onClick:()=>navigate(-1),children:"Regresar"}),e.jsx("button",{className:" rounded-lg self-center flex justify-center items-center text-lg text-gray-100 text-center py-3 px-5 border-spacing-1 border-gray-600 border-2 mt-3 mb-10",children:m?"En ello...":"Actualizar"})]})]})]})},P=w;export{P as default};
