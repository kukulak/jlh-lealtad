import{r as g,j as e}from"./jsx-runtime-D2HyDbKh.js";import{P as f}from"./PeludoForm-N8Rgk3n0.js";import{I as x,C as P}from"./ImageUploader-BnT2WFw1.js";import{u as w}from"./index-CD45sefw.js";import{u as D}from"./components-Cuo2WHyh.js";import"./index-zFQnOIg2.js";const h=()=>{const n=w(),{userActivoId:s}=D();console.log("DESDE NEW PELUDO despues de registro",s);const[o,l]=g.useState({});async function i(c){const m=await new Promise((u,p)=>{new P(c,{quality:.6,maxWidth:800,success(t){u(t)},error(t){p(t)}})});let r=new FormData;r.append("dream-pic",m);const d=await fetch("/images",{method:"POST",body:r});console.log(typeof document>"u"?"running in a server environment":"running in a browser environment"),console.log("HANDELING",r.getAll("dream-pic"));const{imageUrl:a}=await d.json();console.log("IMAGEURL",a),l({...o,peludoPicture:a})}return e.jsxs("div",{className:"  w-full items-center flex flex-col gap-5",children:[e.jsx(x,{onChange:i,imageUrl:o.peludoPicture}),e.jsx(f,{imageUrl:o.peludoPicture,usuarioId:s}),e.jsx("div",{className:"w-full items-center flex flex-col gap-5",children:e.jsx("button",{className:"  self-center border-2 border-gray-600 rounded-lg text-lg text-gray-100 text-center py-3  px-5 mt-3 mb-20 ",onClick:()=>n(-1),children:"Regresar"})})]})},U=h;export{U as default};
