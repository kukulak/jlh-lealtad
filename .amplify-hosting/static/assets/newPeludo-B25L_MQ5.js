import{r as g,j as e}from"./jsx-runtime-D2HyDbKh.js";import{P as x}from"./PeludoForm-N8Rgk3n0.js";import{I as f,C as P}from"./ImageUploader-BnT2WFw1.js";import{u as w,c as h}from"./index-CD45sefw.js";import"./index-zFQnOIg2.js";const j=()=>{const n=w(),{clienteId:a}=h();console.log("DESDE NEW PELUDO",a);const[o,l]=g.useState({});async function i(c){const m=await new Promise((u,p)=>{new P(c,{quality:.6,maxWidth:800,success(r){u(r)},error(r){p(r)}})});let t=new FormData;t.append("dream-pic",m);const d=await fetch("/images",{method:"POST",body:t});console.log(typeof document>"u"?"running in a server environment":"running in a browser environment"),console.log("HANDELING",t.getAll("dream-pic"));const{imageUrl:s}=await d.json();console.log("IMAGEURL",s),l({...o,peludoPicture:s})}return e.jsxs("div",{className:"  w-full items-center flex flex-col gap-5",children:[e.jsx(f,{onChange:i,imageUrl:o.peludoPicture}),e.jsx(x,{imageUrl:o.peludoPicture,usuarioId:a}),e.jsx("div",{className:"w-full items-center flex flex-col gap-5",children:e.jsx("button",{className:"  self-center border-2 border-gray-600 rounded-lg text-lg text-gray-100 text-center py-3  px-5 mt-3 mb-20 ",onClick:()=>n(-1),children:"Regresar"})})]})},I=j;export{I as default};
